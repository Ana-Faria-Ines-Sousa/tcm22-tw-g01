<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Tcm22-tw-g01">
    <meta name="description" content="M2">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Tcm22-tw-g01</title>
</head>

<body>
    <button type="button" onclick="loadXMLDoc()">Get my CD collection</button>
    <br><br>
    <table id="demo"></table>
    <script src="AL.js"></script>
</body>

<script>
    function loadXMLDoc() {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                console.log(xmlhttp);
                myFunction(xmlhttp);
            }
        };
        xmlhttp.open("GET", "./SRC/AL.xml", true);
        xmlhttp.send();
    }
    function myFunction(xml) {
        var i;
        var xmlDoc = xml.responseXML;
        console.log(xml);
        var table = "<tr><th>Nome</th><th>V</th></tr>";
        var x = xmlDoc.getElementsByTagName("line");
        for (i = 0; i < x.length; i++) {
            table += "<tr><td>" +
                x[i].getElementsByTagName("nome")[0].childNodes[0].nodeValue +
                "</td><td>" +
                x[i].getElementsByTagName("vitorias")[0].childNodes[0].nodeValue +
                "</td></tr>";
            x[i].getElementsByTagName("percentagem")[0].childNodes[0].nodeValue +
                "</td></tr>";
        }
        console.log(table);
        document.getElementById('demo').innerHTML = table
    }
</script>